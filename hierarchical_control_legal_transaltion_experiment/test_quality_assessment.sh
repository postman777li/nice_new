#!/bin/bash
# 质量评估功能测试脚本

echo "======================================================================"
echo "质量评估功能测试"
echo "======================================================================"

# 测试用例
SOURCE="劳动者享有平等就业的权利。"
REFERENCE="Workers shall have the right to equal employment."

echo ""
echo "源文本: $SOURCE"
echo "参考译文: $REFERENCE"
echo ""

# 测试1：基线翻译 + 质量评估
echo "======================================================================"
echo "测试1：基线翻译 + 质量评估"
echo "======================================================================"
python run_translation.py \
  --source "$SOURCE" \
  --reference "$REFERENCE" \
  --no-hierarchical \
  --evaluate

echo ""
echo "======================================================================"
echo "测试2：完整系统翻译 + 质量评估（详细模式）"
echo "======================================================================"
python run_translation.py \
  --source "$SOURCE" \
  --reference "$REFERENCE" \
  --hierarchical \
  --use-termbase \
  --evaluate \
  --verbose

echo ""
echo "======================================================================"
echo "测试3：不提供参考译文（应显示警告）"
echo "======================================================================"
python run_translation.py \
  --source "$SOURCE" \
  --no-hierarchical \
  --evaluate

echo ""
echo "======================================================================"
echo "测试完成！"
echo "======================================================================"

